var union = require('../').union,
  test = require('tape')
  fs = require('fs');

var polys = [
    [
      [
        [
          -2.4609375,
          -0.7031073524364783
        ],
        [
          -2.4609375,
          1.7575368113083254
        ],
        [
          1.494140625,
          1.7575368113083254
        ],
        [
          1.494140625,
          -0.7031073524364783
        ],
        [
          -2.4609375,
          -0.7031073524364783
        ]
      ],
      [
        [
          -2.30712890625,
          -0.4833927027896987
        ],
        [
          -2.30712890625,
          -0.19775351362549398
        ],
        [
          -1.9116210937499998,
          -0.19775351362549398
        ],
        [
          -1.9116210937499998,
          -0.4833927027896987
        ],
        [
          -2.30712890625,
          -0.4833927027896987
        ]
      ],
      [
        [
          1.0546875,
          1.3402098002785028
        ],
        [
          1.0546875,
          1.6696855009865839
        ],
        [
          1.3623046875,
          1.6696855009865839
        ],
        [
          1.3623046875,
          1.3402098002785028
        ],
        [
          1.0546875,
          1.3402098002785028
        ]
      ]
    ],
    [
      [
        [
          3.9990234375,
          0.21972602392080884
        ],
        [
          3.9990234375,
          1.7136116598836224
        ],
        [
          6.1962890625,
          1.7136116598836224
        ],
        [
          6.1962890625,
          0.21972602392080884
        ],
        [
          3.9990234375,
          0.21972602392080884
        ]
      ]
    ],
    [
      [
        [
          0.87890625,
          -2.0210651187669897
        ],
        [
          0.87890625,
          0.6591651462894632
        ],
        [
          5.009765625,
          0.6591651462894632
        ],
        [
          5.009765625,
          -2.0210651187669897
        ],
        [
          0.87890625,
          -2.0210651187669897
        ]
      ]
    ],
    [
      [
        [
          1.5380859375,
          2.3284603685731593
        ],
        [
          1.5380859375,
          3.469557303061473
        ],
        [
          2.8125,
          3.469557303061473
        ],
        [
          2.8125,
          2.3284603685731593
        ],
        [
          1.5380859375,
          2.3284603685731593
        ]
      ]
    ],
    [
      [
        [
          -4.21875,
          -1.7136116598836224
        ],
        [
          -1.4501953125,
          -1.7136116598836224
        ],
         [
          -1.4501953125,
          0.3076157096439005
        ],
        [
          -4.21875,
          0.3076157096439005
        ],
        [
          -4.21875,
          -1.7136116598836224
        ]
      ]
    ]
];


var polys2 = [
     [[ [ 1.494140625, 0.6591651462894632 ],
    [ 5.009765625, 0.6591651462894632 ],
    [ 5.009765625, -2.0210651187669897 ],
    [ 0.87890625, -2.0210651187669897 ],
    [ 0.87890625, -0.7031073524364783 ],
    [ -2.4609375, -0.7031073524364783 ],
    [ -2.4609375, 1.7575368113083254 ],
        [ 1.494140625, 1.7575368113083254 ],
        [ 1.494140625, 0.6591651462894632 ] ]],
    [[[ 3.9990234375, 0.21972602392080884 ],
    [ 3.9990234375, 1.7136116598836224 ],
    [ 6.1962890625, 1.7136116598836224 ],
    [ 6.1962890625, 0.21972602392080884 ],
    [ 3.9990234375, 0.21972602392080884 ] ]],
]


test('union polygons in one set', function (t) {
  var pp = union(polys);
  fs.writeFileSync(__dirname+"/fixtures/out/test.geojson", JSON.stringify(pp))
  t.end();
});

// test('union polys in two sets', function (t) {
//   var p1 = polys.slice(0, 2);
//   var p2 = polys.slice(2);
//   union(p1, p2);
//   t.end();
// });
